(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2780:(e,r,t)=>{Promise.resolve().then(t.bind(t,5493)),Promise.resolve().then(t.t.bind(t,3063,23)),Promise.resolve().then(t.bind(t,6497)),Promise.resolve().then(t.bind(t,7248)),Promise.resolve().then(t.bind(t,4586))},4586:(e,r,t)=>{"use strict";t.d(r,{TopicPanel:()=>x});var s=t(5155),a=t(2115),l=t(838);let n=async e=>{let r=await fetch(e);if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return r.json()};var o=t(6766);let d=(0,a.forwardRef)((e,r)=>{let{className:t="",variant:a="default",size:l="sm",children:n,...o}=e,d="".concat("border border-foreground rounded-sm flex w-fit items-center space-x-2"," ").concat({default:"bg-stone-100 hover:bg-stone-100/10 text-slate-900 border-stone-200",outline:"bg-transparent hover:bg-stone-100/50 text-slate-900 border-stone-300",ghost:"bg-transparent hover:bg-stone-100/50 text-slate-900 border-transparent"}[a]," ").concat({sm:"px-2 py-1 text-base",md:"px-3 py-2 text-base",lg:"px-4 py-3 text-base"}[l]," ").concat(t);return(0,s.jsx)("button",{className:d,ref:r,...o,children:n})});function c(){return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("a",{href:"".concat(window.location.origin,"/api/oauth/reddit"),children:(0,s.jsxs)(d,{type:"submit",children:[(0,s.jsx)(o.default,{src:"/reddit-logo.png",alt:"reddit logo",height:20,width:20}),(0,s.jsx)("p",{children:"connect your reddit"})]})})})}function i(){let{data:e,isLoading:r,mutate:t}=(0,l.Ay)("/api/reddit/past-search",n),[o,c]=(0,a.useState)({searchTerm:""});console.log(e,r);let i=async e=>{if(!e)return;let r=await fetch("".concat(window.location.origin,"/api/reddit/new-search"),{method:"POST",body:JSON.stringify({searchTerm:e}),headers:{"Content-Type":"application/json"}});await r.json()&&(t(),c(e=>({...e,searchTerm:""})))};return(0,s.jsxs)("div",{className:"w-full flex flex-col pt-2",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"search for keywords or phrases",maxLength:512,className:"border border-foreground/20 rounded-sm px-1 bg-background-muted w-80",onChange:e=>c(r=>({...r,searchTerm:e.target.value})),value:o.searchTerm}),(0,s.jsx)(d,{className:"bg-foreground-muted",onClick:()=>i(o.searchTerm),disabled:""===o.searchTerm,children:"search"})]}),(0,s.jsx)("div",{className:"flex"})]})}d.displayName="Button";let u=()=>{let{data:e,isLoading:r}=(0,l.Ay)("/api/reddit/check-auth",n);return(0,s.jsx)("div",{className:"flex flex-col w-full items-center min-h-96",children:r?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Loading..."}):e.hasAuth?(0,s.jsx)(i,{}):(0,s.jsx)(c,{})})},h=["reddit"],x=()=>{let[e,r]=(0,a.useState)(h[0]);return(0,s.jsxs)("div",{className:"flex flex-col space-y-2 p-4 border border-foreground/20 bg-background rounded-sm h-full relative",children:[(0,s.jsxs)("div",{className:"flex space-x-2 absolute -top-3 left-3 z-10 bg-background px-1",children:[(0,s.jsx)("label",{className:"font-semibold",children:" Channels: "}),h.map(t=>(0,s.jsx)("div",{className:"hover:underline cursor-pointer ".concat(e===t?"text-red-700 dark:text-red-300":""),onClick:()=>r(t),children:t},t))]}),"reddit"===e?(0,s.jsx)(u,{}):(0,s.jsx)(s.Fragment,{})]})}},6497:(e,r,t)=>{"use strict";t.d(r,{InstructionsPanel:()=>l});var s=t(5155),a=t(2115);let l=()=>{let[e,r]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"relative border border-foreground/20 rounded-sm w-full bg-background duration-700 ease-in-out transition-all\n          ".concat(e?"flex-4":"flex-1 hover:flex-4"),onClick:()=>r(e=>!e),children:(0,s.jsx)("h1",{className:"font-semibold text-blue-700 dark:text-blue-300 absolute -top-3 left-3 z-10 bg-background px-1",children:"HALIGRAM instructions"})})}},7248:(e,r,t)=>{"use strict";t.d(r,{KnowledgePanel:()=>l});var s=t(5155),a=t(2115);let l=()=>{let[e,r]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"relative border border-foreground/20 rounded-sm w-full bg-background duration-700 ease-in-out transition-all\n          ".concat(e?"flex-4":"flex-1 hover:flex-4"),onClick:()=>r(e=>!e),children:(0,s.jsx)("h1",{className:"font-semibold text-emerald-700 dark:text-emerald-300 absolute -top-3 left-3 z-10 bg-background px-1",children:"external knowledge"})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[493,951,441,684,358],()=>r(2780)),_N_E=e.O()}]);