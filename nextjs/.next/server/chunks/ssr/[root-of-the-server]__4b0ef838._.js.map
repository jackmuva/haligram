{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/instructions-panel.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nexport const InstructionsPanel = () => {\n  const [active, setActive] = useState<boolean>(false);\n  return (\n    <div className={`relative border border-foreground/20 rounded-sm w-full bg-background duration-700 ease-in-out transition-all\n          ${!active ? \"flex-1 hover:flex-4\" : \"flex-4\"}`}\n      onClick={() => setActive((prev) => !prev)}>\n      <h1 className=\"font-semibold text-blue-700 dark:text-blue-300 absolute -top-3 left-3 z-10 bg-background px-1\">\n        HALIGRAM instructions\n      </h1>\n    </div>\n\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGO,MAAM,oBAAoB;IAC/B,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAC9C,qBACE,8OAAC;QAAI,WAAW,CAAC;UACX,EAAE,CAAC,SAAS,wBAAwB,UAAU;QAClD,SAAS,IAAM,UAAU,CAAC,OAAS,CAAC;kBACpC,cAAA,8OAAC;YAAG,WAAU;sBAAgG;;;;;;;;;;;AAMpH","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/knowledge-panel.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nexport const KnowledgePanel = () => {\n  const [active, setActive] = useState<boolean>(false);\n  return (\n    <div className={`relative border border-foreground/20 rounded-sm w-full bg-background duration-700 ease-in-out transition-all\n          ${!active ? \"flex-1 hover:flex-4\" : \"flex-4\"}`}\n      onClick={() => setActive((prev) => !prev)}>\n      <h1 className=\"font-semibold text-emerald-700 dark:text-emerald-300 absolute -top-3 left-3 z-10 bg-background px-1\">\n        external knowledge\n      </h1>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGO,MAAM,iBAAiB;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAC9C,qBACE,8OAAC;QAAI,WAAW,CAAC;UACX,EAAE,CAAC,SAAS,wBAAwB,UAAU;QAClD,SAAS,IAAM,UAAU,CAAC,OAAS,CAAC;kBACpC,cAAA,8OAAC;YAAG,WAAU;sBAAsG;;;;;;;;;;;AAK1H","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/lib/utils.ts"],"sourcesContent":["export const fetcher = async (url: string) => {\n\tconst res = await fetch(url);\n\tif (!res.ok) {\n\t\tthrow new Error(`HTTP error! status: ${res.status}`);\n\t}\n\treturn res.json();\n};\n\nexport const callOAuthAPI = async ({ apiCall, refresh, purge }: {\n\tapiCall: () => Promise<Response>,\n\trefresh: () => Promise<any>,\n\tpurge: () => Promise<void>\n}): Promise<Response | null> => {\n\tlet response = await apiCall();\n\tif (!response.ok) {\n\t\tconst newToken = await refresh();\n\t\tconsole.log(\"refreshing token: \", newToken);\n\t\tresponse = await apiCall();\n\t\tif (!response.ok) {\n\t\t\tconsole.log(\"deleting credentials\");\n\t\t\tawait purge();\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn response;\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU,OAAO;IAC7B,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE;QACZ,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,IAAI,MAAM,EAAE;IACpD;IACA,OAAO,IAAI,IAAI;AAChB;AAEO,MAAM,eAAe,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAI3D;IACA,IAAI,WAAW,MAAM;IACrB,IAAI,CAAC,SAAS,EAAE,EAAE;QACjB,MAAM,WAAW,MAAM;QACvB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,WAAW,MAAM;QACjB,IAAI,CAAC,SAAS,EAAE,EAAE;YACjB,QAAQ,GAAG,CAAC;YACZ,MAAM;YACN,OAAO;QACR;IACD;IACA,OAAO;AACR","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/ui/button.tsx"],"sourcesContent":["import { ButtonHTMLAttributes, forwardRef } from \"react\"\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"outline\" | \"ghost\"\n  size?: \"sm\" | \"md\" | \"lg\"\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className = \"\", variant = \"default\", size = \"sm\", children, ...props }, ref) => {\n    const baseStyles = \"border border-foreground rounded-sm flex w-fit items-center space-x-2\"\n\n    const variantStyles = {\n      default: \"bg-stone-100 hover:bg-stone-100/10 text-slate-900 border-stone-200\",\n      outline: \"bg-transparent hover:bg-stone-100/50 text-slate-900 border-stone-300\",\n      ghost: \"bg-transparent hover:bg-stone-100/50 text-slate-900 border-transparent\"\n    }\n\n    const sizeStyles = {\n      sm: \"px-2 py-1 text-base\",\n      md: \"px-3 py-2 text-base\",\n      lg: \"px-4 py-3 text-base\"\n    }\n\n    const combinedClassName = `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`\n\n    return (\n      <button\n        className={combinedClassName}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </button>\n    )\n  }\n)\n\nButton.displayName = \"Button\"\n"],"names":[],"mappings":";;;;AAAA;;;AAOO,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAC7B,CAAC,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzE,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,SAAS;QACT,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,oBAAoB,GAAG,WAAW,CAAC,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;IAEpG,qBACE,8OAAC;QACC,WAAW;QACX,KAAK;QACJ,GAAG,KAAK;kBAER;;;;;;AAGP;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/reddit-sign-in.tsx"],"sourcesContent":["import Image from \"next/image\"\nimport { Button } from \"../ui/button\"\n\nexport function RedditSignIn() {\n\treturn (\n\t\t<div className=\"w-full h-full flex items-center justify-center\">\n\t\t\t<a href={`${window.location.origin}/api/oauth/reddit`}>\n\t\t\t\t<Button type=\"submit\">\n\t\t\t\t\t<Image src={\"/reddit-logo.png\"} alt=\"reddit logo\" height={20} width={20} />\n\t\t\t\t\t<p>connect your reddit</p>\n\t\t\t\t</Button>\n\t\t\t</a>\n\t\t</div>\n\t)\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,SAAS;IACf,qBACC,8OAAC;QAAI,WAAU;kBACd,cAAA,8OAAC;YAAE,MAAM,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC;sBACpD,cAAA,8OAAC,yIAAA,CAAA,SAAM;gBAAC,MAAK;;kCACZ,8OAAC,6HAAA,CAAA,UAAK;wBAAC,KAAK;wBAAoB,KAAI;wBAAc,QAAQ;wBAAI,OAAO;;;;;;kCACrE,8OAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKR","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/reddit/active-reddit-feed.tsx"],"sourcesContent":["import { fetcher } from \"@/lib/utils\";\nimport useSWR from \"swr\";\n\nexport const ActiveRedditFeed = ({ searchTerm }: { searchTerm: string }) => {\n  const params = new URLSearchParams({ q: searchTerm });\n  const { data, isLoading } = useSWR(`/api/reddit/search?${params.toString()}`, fetcher);\n  console.log(data);\n\n  return (\n    isLoading ? (<div>loading...</div>) : (\n      <div></div>\n    )\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,MAAM,mBAAmB,CAAC,EAAE,UAAU,EAA0B;IACrE,MAAM,SAAS,IAAI,gBAAgB;QAAE,GAAG;IAAW;IACnD,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAM,AAAD,EAAE,CAAC,mBAAmB,EAAE,OAAO,QAAQ,IAAI,EAAE,mHAAA,CAAA,UAAO;IACrF,QAAQ,GAAG,CAAC;IAEZ,OACE,0BAAa,8OAAC;kBAAI;;;;;6BAChB,8OAAC;;;;;AAGP","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/reddit/reddit-feed.tsx"],"sourcesContent":["import { Button } from \"@/app/components/ui/button\";\nimport { ActiveRedditFeed } from \"./active-reddit-feed\";\nimport useSWR from \"swr\";\nimport { fetcher } from \"@/lib/utils\";\nimport { useEffect, useState } from \"react\";\n\nexport function RedditFeed() {\n  const { data, mutate, isLoading } = useSWR(`/api/reddit/past-search`, fetcher)\n  const [feedState, setFeedState] = useState<{ searchTerm: string, activeTerm: string }>\n    ({ searchTerm: \"\", activeTerm: \"\" });\n\n  useEffect(() => {\n    if (data && data.searches[0].searches.terms.length > 0) {\n      setFeedState((prev) => ({ ...prev, activeTerm: data.searches[0].searches.terms[0] }));\n    }\n  }, [data]);\n\n  const submitSearch = async (search: string) => {\n    if (!search) {\n      return;\n    }\n    const req = await fetch(`${window.location.origin}/api/reddit/new-search`, {\n      method: \"POST\",\n      body: JSON.stringify({ searchTerm: search }),\n      headers: { 'Content-Type': 'application/json' },\n    });\n    const res = await req.json();\n    if (res) {\n      mutate()\n      setFeedState((prev) => ({ ...prev, searchTerm: \"\" }));\n    }\n  }\n\n  return (\n    <div className=\"w-full flex flex-col pt-2 space-y-4\">\n      <div className=\"flex space-x-2\">\n        <input type=\"text\" placeholder=\"search for keywords or phrases\" maxLength={512}\n          className=\"border border-foreground/20 rounded-sm px-1 bg-background-muted w-80\"\n          onChange={(e) => setFeedState((prev) => ({ ...prev, searchTerm: e.target.value }))}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              submitSearch(feedState.searchTerm);\n            }\n          }}\n          value={feedState.searchTerm} />\n        <Button className=\"bg-foreground-muted\" onClick={() => submitSearch(feedState.searchTerm)}\n          disabled={feedState.searchTerm === \"\"}>\n          search\n        </Button>\n      </div>\n      <div className=\"flex flex-wrap gap-2 justify-start\">\n        {!isLoading ? (data.searches[0].searches.terms.map((term: string) => {\n          return (\n            <div key={term} className={`border ${term === feedState.activeTerm ? \"bg-indigo-500/70\" : \"bg-foreground-muted/30\"}\n              px-2 rounded-sm hover:bg-foreground hover:text-background overflow-x-scroll cursor-pointer`}\n              onClick={() => setFeedState((prev) => ({ ...prev, activeTerm: term }))}>\n              {term}\n            </div>\n          )\n        })) : (<div>loading...</div>)}\n      </div>\n      <ActiveRedditFeed searchTerm={feedState.activeTerm} />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAM,AAAD,EAAE,CAAC,uBAAuB,CAAC,EAAE,mHAAA,CAAA,UAAO;IAC7E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EACtC;QAAE,YAAY;QAAI,YAAY;IAAG;IAEpC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ,KAAK,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;YACtD,aAAa,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,YAAY,KAAK,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;gBAAC,CAAC;QACrF;IACF,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ;YACX;QACF;QACA,MAAM,MAAM,MAAM,MAAM,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,sBAAsB,CAAC,EAAE;YACzE,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE,YAAY;YAAO;YAC1C,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;QACA,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,IAAI,KAAK;YACP;YACA,aAAa,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,YAAY;gBAAG,CAAC;QACrD;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,MAAK;wBAAO,aAAY;wBAAiC,WAAW;wBACzE,WAAU;wBACV,UAAU,CAAC,IAAM,aAAa,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE,YAAY,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBAChF,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,SAAS;gCACrB,aAAa,UAAU,UAAU;4BACnC;wBACF;wBACA,OAAO,UAAU,UAAU;;;;;;kCAC7B,8OAAC,yIAAA,CAAA,SAAM;wBAAC,WAAU;wBAAsB,SAAS,IAAM,aAAa,UAAU,UAAU;wBACtF,UAAU,UAAU,UAAU,KAAK;kCAAI;;;;;;;;;;;;0BAI3C,8OAAC;gBAAI,WAAU;0BACZ,CAAC,YAAa,KAAK,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAClD,qBACE,8OAAC;wBAAe,WAAW,CAAC,OAAO,EAAE,SAAS,UAAU,UAAU,GAAG,qBAAqB,yBAAyB;wGACvB,CAAC;wBAC3F,SAAS,IAAM,aAAa,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;oCAAE,YAAY;gCAAK,CAAC;kCACnE;uBAHO;;;;;gBAMd,mBAAO,8OAAC;8BAAI;;;;;;;;;;;0BAEd,8OAAC,sLAAA,CAAA,mBAAgB;gBAAC,YAAY,UAAU,UAAU;;;;;;;;;;;;AAGxD","debugId":null}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/reddit/reddit-panel.tsx"],"sourcesContent":["import useSWR from \"swr\";\nimport { fetcher } from \"@/lib/utils\";\nimport { RedditSignIn } from \"../../reddit-sign-in\";\nimport { RedditFeed } from \"./reddit-feed\";\n\nexport const RedditPanel = () => {\n  const { data, isLoading } = useSWR(`/api/reddit/check-auth`, fetcher)\n\n  return (\n    <div className=\"flex flex-col w-full items-center min-h-96\">\n      {!isLoading ?\n        (data.hasAuth ?\n          (<RedditFeed />) :\n          (<RedditSignIn />)\n        ) : (<div className=\"w-full h-full flex items-center justify-center\">Loading...</div>)}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,MAAM,cAAc;IACzB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAM,AAAD,EAAE,CAAC,sBAAsB,CAAC,EAAE,mHAAA,CAAA,UAAO;IAEpE,qBACE,8OAAC;QAAI,WAAU;kBACZ,CAAC,YACC,KAAK,OAAO,iBACV,8OAAC,4KAAA,CAAA,aAAU;;;;iCACX,8OAAC,2JAAA,CAAA,eAAY;;;;iCACX,8OAAC;YAAI,WAAU;sBAAiD;;;;;;;;;;;AAG7E","debugId":null}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmu/Documents/haligram/nextjs/src/app/components/custom/dashboard/topic-panel.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { RedditPanel } from \"./reddit/reddit-panel\";\n\nexport const supportedChannels = [\"reddit\"];\n\nexport const TopicPanel = () => {\n  const [activeChannel, setActiveChannel] = useState<string>(supportedChannels[0]);\n\n  return (\n    <div className=\"flex flex-col space-y-2 p-4 border border-foreground/20 bg-background rounded-sm h-full relative\">\n      <div className=\"flex space-x-2 absolute -top-3 left-3 z-10 bg-background px-1\">\n        <label className=\"font-semibold\"> Channels: </label>\n        {supportedChannels.map((channel: string) => {\n          return (\n            <div key={channel} className={`hover:underline cursor-pointer ${activeChannel === channel ? \"text-red-700 dark:text-red-300\" : \"\"}`}\n              onClick={() => setActiveChannel(channel)}>\n              {channel}\n            </div>\n          );\n        })}\n      </div>\n      {activeChannel === \"reddit\" ?\n        <RedditPanel /> :\n        <></>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIO,MAAM,oBAAoB;IAAC;CAAS;AAEpC,MAAM,aAAa;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,iBAAiB,CAAC,EAAE;IAE/E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAAgB;;;;;;oBAChC,kBAAkB,GAAG,CAAC,CAAC;wBACtB,qBACE,8OAAC;4BAAkB,WAAW,CAAC,+BAA+B,EAAE,kBAAkB,UAAU,mCAAmC,IAAI;4BACjI,SAAS,IAAM,iBAAiB;sCAC/B;2BAFO;;;;;oBAKd;;;;;;;YAED,kBAAkB,yBACjB,8OAAC,6KAAA,CAAA,cAAW;;;;qCACZ;;;;;;;AAGR","debugId":null}}]
}